{"version":3,"sources":["webpack:///./scripts/modules/tabs.js","webpack:///./scripts/services/service.js","webpack:///./scripts/modules/card.js","webpack:///./scripts/modules/orderItem.js","webpack:///./scripts/modules/popup.js","webpack:///./scripts/modules/offer.js"],"names":["window","addEventListener","tabs","document","querySelectorAll","content","tabsParent","querySelector","event","activeElem","trgt","num","forEach","element","i","getActiveItem","target","classList","remove","add","addActiveClass","URI","fetch","getData","ok","Error","status","json","getImages","name","fetchData","then","res","hits","catch","error","Card","image","className","title","this","orderItem","count","index","saveInLocal","item","createElement","innerHTML","handleClick","id","amount","console","log","removeFromLocal","shopping","JSON","parse","localStorage","getItem","newShopping","serializing","key","obj","serialized","stringify","setItem","Popup","createPopup","list","items","readFromLocal","isIn","append","render","childElementCount","parent","addListeners","popup","handleEvent","classes","contains","closeModal","removeChild","removeEventListener","foodCategories","foodModificator","num2","num1","food","offer","getIncremNum","hit","card","largeImageURL","insertAdjacentHTML","order","parentElement","nodeName","preventDefault","onOrderBtn","dataset","product","firstElementChild"],"mappings":"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","file":"main.7d63c79368691a6408dc.js","sourcesContent":["window.addEventListener('DOMContentLoaded', () => {\n\n    const tabs = document.querySelectorAll('.tabs__header-item');\n    const content = document.querySelectorAll('.tabs__content');\n    const tabsParent = document.querySelector('.tabs__header-items');\n\n\n    const removeActivClass = () => {\n\n        tabs.forEach(element => {\n            element.classList.remove('tabs__header-item-active')\n        });\n\n        content.forEach(element => {\n            element.classList.remove('tabs__content-active')\n        });\n    }\n\n    const getActiveItem = (trgt) => {\n        let num;\n        tabs.forEach((element, i) => {\n            if (element === trgt) {\n                num = i;\n                return;\n            }\n        })\n        return num;\n    }\n\n    const addActiveClass = (activeElem = 0) => {\n\n        tabs.forEach((element, i) => {\n            if (i === activeElem) {\n                element.classList.add('tabs__header-item-active')\n            }\n        });\n\n        content.forEach((element, i) => {\n            if (i === activeElem) {\n                element.classList.add('tabs__content-active')\n            }\n        });\n    }\n\n    tabsParent.addEventListener('click', (event) => {\n        let trgt = event.target;\n        let activeElem = getActiveItem(trgt);\n        removeActivClass();\n        addActiveClass(activeElem);\n    });\n\n\n})","import { APIKEY } from './apikey';\n\nexport let URI = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=4&key=${APIKEY}&q=`;\n\n\nasync function fetchData(URI) {\n  const getData = await fetch(URI);\n\n  if (!getData.ok) {\n    throw new Error(`Could not fetch. Status is - ${getData.status}.`);\n  }\n\n  return await getData.json();\n}\n\n\n\nexport const getImages = name => {\n\n  return fetchData(`${URI}${name}`)\n    .then(res => res.hits)\n    .catch(error => {\n      throw new Error(`Something went wrong because - ${error}`);\n    });\n\n};\n\n","export default class Card {\n\n    constructor(image, className, title) {\n        this.image = image;\n        this.className = className;\n        this.title = title;\n    }\n\n    render = () => {\n        return (\n            `<div class=\"${this.className}\">\n                <div class=\"${this.className}_wrapper\">\n                <img src=\"${this.image}\" class=\"${this.className}_img\" alt=\"beautiful image\">\n                <div class=\"${this.className}_descr\" data-product=\"${this.title}\">\n                    <h3>${this.title}</h3>\n                    <div class=\"${this.className}_text\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam nihil reprehenderit aspernatur minima unde hic facere. Unde nulla deleniti placeat, aliquid dolorum voluptatum quo.</div>\n                    <button class=\"${this.className}_button\" type=\"submit\">Order</button>\n                </div>\n            </div>`\n        )\n    }\n}","export default class orderItem {\n    constructor (name, count = 1, index) {\n        this.name = name;\n        this.count = count;\n        this.index = index\n    }\n\n    render = () => {\n        this.saveInLocal();\n\n        const item = document.createElement('li');\n        item.classList.add('popup__item');\n        item.innerHTML = `<span class=\"popup__item_name\">${this.name}</span>\n                        <div class=\"popup__operations\">\n                            <div id=\"decr\" class=\"popup__item_action\">-</div>\n                            <div class=\"popup__item_amount\">${this.count}</div>\n                            <div id=\"incr\" class=\"popup__item_action\">+</div>\n                            <div id=\"remove\" class=\"popup__item_action\">Remove</div>\n                        <div>`;\n        item.addEventListener('click', () => this.handleClick(event, item));\n        \n        return item;\n    }\n\n    handleClick = (event, item) => {\n        const id = event.target.id;\n        const amount = document.querySelectorAll('.popup__item_amount')[this.index];\n\n        console.log(this.index);\n\n        if (id === 'decr') {\n            if (this.count > 1) this.count -= 1;\n            amount.innerHTML = this.count;\n        } else if (id === 'incr') {\n            if (this.count < 99) this.count += 1;\n            amount.innerHTML = this.count;\n        } else if (id === 'remove') {\n            item.remove();\n            this.removeFromLocal();\n\n            return;\n        }\n\n        this.saveInLocal();\n    }\n\n    saveInLocal = () => {\n        const shopping = JSON.parse(localStorage.getItem('shopping'));\n        if(shopping === null) {\n            const newShopping = {[this.name] : this.count}\n            this.serializing(newShopping);\n        } else {\n            const newShopping = {...shopping, ...{[this.name] : this.count}}\n            this.serializing(newShopping)\n        }\n    }\n\n    removeFromLocal = () => {\n        const shopping = JSON.parse(localStorage.getItem('shopping'));\n        const newShopping = {...shopping};\n        for (let key in shopping) {\n            if (key === this.name) {\n                delete newShopping[this.name]\n            }\n        }\n        this.serializing(newShopping);\n    }\n    \n\n    serializing = (obj) => {\n        const serialized = JSON.stringify(obj);\n        localStorage.setItem('shopping', serialized);\n    }\n\n}\n","import orderItem from \"./orderItem\";\n\nexport default class Popup {\n    constructor(name) {\n        this.name = name;\n        this.parent = document.querySelector('body');\n        this.popup = null;\n        this.isIn = false;\n        this.index = 0;\n    }\n\n    render = () => {\n        this.createPopup();\n\n        const list = document.querySelector('.popup__list');\n\n        const items = this.readFromLocal();\n        for (let item in items) {\n            \n            if (item === this.name) {\n                this.isIn = true;\n            }\n            list.append(new orderItem(item, items[item], this.index).render());\n            this.index += 1;\n        }\n\n        if (!this.isIn) {\n            const item = new orderItem(this.name, 1, list.childElementCount).render();\n            list.append(item);\n        }\n\n    \n        this.parent.classList.add('popup__active');\n        this.addListeners();\n    };\n\n    createPopup = () => {\n        this.popup = document.createElement('div');\n        this.popup.classList.add('popup');\n        this.popup.innerHTML = `<div class=\"popup__wrapper\">\n                                <div class=\"popup__close\">&times;</div>\n                                <h3 class=\"popup__title\">Your order</h3>\n                                <ul class=\"popup__list\">\n                                </ul>\n                            </div>`;\n        this.parent.append(this.popup);\n    }\n\n    readFromLocal = () => {\n        return JSON.parse(localStorage.getItem('shopping'));\n    }\n\n    addListeners = () => {\n        document\n            .querySelector('.popup')\n            .addEventListener('click', this.handleEvent);\n\n        window.addEventListener('keydown', this.handleEvent);\n    };\n\n    handleEvent = event => {\n        const target = event.target;\n        const classes = target.classList;\n        if (\n            classes.contains('popup__close') ||\n            classes.contains('popup') ||\n            event.key === 'Escape'\n        ) {\n            this.closeModal();\n        }       \n    };\n\n    closeModal = () => {\n        this.parent.classList.remove('popup__active');\n        this.parent.removeChild(this.popup);\n        window.removeEventListener('keydown', this.handleEvent);\n    };\n}\n","\nimport { getImages } from '../services/service';\nimport Card from './card';\nimport Popup from './popup';\n\nconst foodCategories = ['pizza', 'burger', 'sushi'];\nconst foodModificator = ['roasted', 'fried', 'fresh', 'home made'];\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const food = document.querySelectorAll('.offer__food.wrapper');\n    // const drinks = document.querySelector('.offer__drinks');\n    const offer = document.querySelector('.offer');\n\n    const counter = num2 => {\n        let num1 = -1;\n        return () => {\n            if (num1 === 3) {\n                num1 = -1;\n            }\n            return (num1 += num2);\n        };\n    };\n\n    const getIncremNum = counter(1);\n    renderCards();\n\n    function renderCards () {\n        foodCategories.forEach((item, i) => {\n            getImages(item).then(hits =>\n                hits.forEach(hit => {\n                    const card = new Card(\n                        hit.largeImageURL,\n                        'offer__card',\n                        `${item} ${foodModificator[getIncremNum()]}`,\n                    ).render();\n                    food[i].insertAdjacentHTML('beforeend', card);\n                }),\n            );\n        });\n    }\n\n\n    const onOrderBtn = (event, name) => {\n        event.preventDefault();\n        new Popup(name).render();\n    };\n\n    offer.addEventListener('click', event => {\n        const order = document.querySelectorAll('.offer__card_button');\n        let target = event.target;\n        let parent = target.parentElement;\n\n        document.querySelectorAll('.offer__card').forEach((card, i) => {\n\n            if (!target.classList.contains('offer__card_active') && target.nodeName === 'IMG') {\n\n                card.firstElementChild.classList.remove('offer__card_active');\n                parent.classList.add('offer__card_active');\n\n            } else if (target === order[i]) {\n\n                onOrderBtn(event, parent.dataset.product);\n\n            } else {\n\n                card.firstElementChild.classList.remove('offer__card_active');\n\n            }\n        });\n    });\n});\n"],"sourceRoot":""}