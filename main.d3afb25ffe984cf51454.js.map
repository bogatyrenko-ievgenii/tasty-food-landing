{"version":3,"sources":["webpack:///./scripts/modules/tabs.js","webpack:///./scripts/services/service.js","webpack:///./scripts/modules/card.js","webpack:///./scripts/modules/orderItems.js","webpack:///./scripts/modules/popup.js","webpack:///./scripts/modules/offer.js"],"names":["window","addEventListener","tabs","document","querySelectorAll","content","tabsParent","querySelector","event","activeElem","trgt","num","forEach","element","i","getActiveItem","target","classList","remove","add","addActiveClass","URI","fetch","getData","ok","Error","status","json","getImages","name","fetchData","then","res","hits","catch","error","Card","image","className","title","this","orderItems","count","index","item","createElement","innerHTML","handleClick","saveInLocalStorge","id","amount","arr","JSON","parse","localStorage","getItem","some","arrItem","push","serializing","newArr","serialized","stringify","setItem","Popup","popup","parent","append","list","render","addListeners","handleEvent","classes","contains","key","closeModal","removeChild","removeEventListener","foodArr","foodModificator","num2","num1","food","offer","n","hit","card","largeImageURL","insertAdjacentHTML","order","parentElement","nodeName","preventDefault","onOrderBtn","dataset","product","firstElementChild"],"mappings":"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","file":"main.d3afb25ffe984cf51454.js","sourcesContent":["window.addEventListener('DOMContentLoaded', () => {\n\n    const tabs = document.querySelectorAll('.tabs__header-item');\n    const content = document.querySelectorAll('.tabs__content');\n    const tabsParent = document.querySelector('.tabs__header-items');\n    \n\n    const removeActivClass = () => {\n\n        tabs.forEach(element => {\n            element.classList.remove('tabs__header-item-active')\n        });\n\n        content.forEach(element => {\n            element.classList.remove('tabs__content-active')\n        });\n    } \n\n    const getActiveItem = (trgt) => {\n        let num;\n        tabs.forEach((element, i) => {\n            if (element === trgt) {\n                num = i;\n                return;\n            }\n        })\n        return num;\n    }\n\n    const addActiveClass = (activeElem = 0) => {\n\n        tabs.forEach((element, i) => {\n\n            if (i === activeElem) {\n                \n                element.classList.add('tabs__header-item-active')\n            }\n        });\n\n        content.forEach((element, i) => {\n\n            if (i === activeElem) {\n                \n                element.classList.add('tabs__content-active')\n            }\n        });\n\n    }\n    \n\n    tabsParent.addEventListener('click', (event) => {\n\n        let trgt = event.target;\n        let activeElem = getActiveItem(trgt);\n        removeActivClass();\n        addActiveClass(activeElem);\n    });\n\n\n})","import { APIKEY } from './apikey';\n\nexport let URI = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=4&key=${APIKEY}&q=`;\n\n\nasync function fetchData(URI) {\n  const getData = await fetch(URI);\n\n  if (!getData.ok) {\n    throw new Error(`Could not fetch. Status is - ${getData.status}.`);\n  }\n\n  return await getData.json();\n}\n\n\n\nexport const getImages = name => {\n\n  return fetchData(`${URI}${name}`)\n    .then(res => res.hits)\n    .catch(error => {\n      throw new Error(`Something went wrong because - ${error}`);\n    });\n\n};\n\n","export default class Card {\n\n    constructor(image, className, title) {\n        this.image = image;\n        this.className = className;\n        this.title = title;\n    }\n\n    render = () => {\n        return (\n            `<div class=\"${this.className}\">\n                <img src=\"${this.image}\" class=\"offer__card_img\" alt=\"beautiful image\">\n                <div class=\"offer__card_descr\" data-product=\"${this.title}\">\n                    <h3>${this.title}</h3>\n                    <div class=\"offer__card_text\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam nihil reprehenderit aspernatur minima unde hic facere. Unde nulla deleniti placeat, aliquid dolorum voluptatum quo.</div>\n                    <button class=\"offer__card_descr_button\" type=\"submit\">Order</button>\n                </div>\n            </div>`\n        )\n    }\n}","export default class orderItems {\n    constructor (name, count = 1, index = 0) {\n        this.name = name;\n        this.count = count;\n        this.index = index\n    }\n\n    render = () => {\n        const item = document.createElement('li');\n        item.classList.add('popup__item');\n        item.innerHTML = `<span class=\"popup__item_name\">${this.name}</span>\n                        <div class=\"popup__operations\">\n                            <div id=\"decr\" class=\"popup__item_action\">-</div>\n                            <div class=\"popup__item_amount\">${this.count}</div>\n                            <div id=\"incr\" class=\"popup__item_action\">+</div>\n                            <div id=\"remove\" class=\"popup__item_action\">Remove</div>\n                        <div>`;\n        item.addEventListener('click', () => this.handleClick(event, item));\n        this.saveInLocalStorge({name: this.name, count: this.count});\n        return item;\n    }\n\n    handleClick = (event, item) => {\n        const id = event.target.id;\n        const amount = document.querySelectorAll('.popup__item_amount')[this.index];\n\n        if (id === 'decr') {\n            if (this.count > 1) this.count -= 1;\n            amount.innerHTML = this.count;\n        } else if (id === 'incr') {\n            if (this.count < 99) this.count += 1;\n            amount.innerHTML = this.count;\n        } else if (id === 'remove') {\n            item.remove();\n        }\n    }\n\n    saveInLocalStorge = (item) => {\n        const arr = JSON.parse(localStorage.getItem('shopping'));\n        if (!arr) {\n            const newArr = [];\n            newArr.push(item);\n            this.serializing(newArr);\n        } else {\n            let isIn = arr.some(arrItem => {\n                return arrItem.name === item.name;\n            });\n            if (!isIn) {\n                arr.push(item);\n                this.serializing(arr);\n            }\n        }\n    }\n\n    serializing = (arr) => {\n        const serialized = JSON.stringify(arr);\n        localStorage.setItem('shopping', serialized);\n    }\n\n}","import orderItems from \"./orderItems\";\n\nexport default class Popup {\n    constructor(name) {\n        this.name = name;\n        this.parent = document.querySelector('body');\n        this.popup = null;\n    }\n\n    render = () => {\n        this.popup = document.createElement('div');\n        this.popup.classList.add('popup');\n        this.popup.innerHTML = `<div class=\"popup__wrapper\">\n                                <div class=\"popup__close\">&times;</div>\n                                <h3 class=\"popup__title\">Your order</h3>\n                                <ul class=\"popup__list\">\n                                </ul>\n                            </div>`;\n        this.parent.append(this.popup);\n        const list = document.querySelector('.popup__list');\n        // const shoppingList = JSON.parse(localStorage.getItem('shopping'));\n        // shoppingList.forEach((item, i) => {\n        //     list.append(new orderItems(item.name, item.count, i).render());\n        // });\n        const item = new orderItems(this.name).render();\n        list.append(item);\n        this.parent.classList.add('popup__active');\n        this.addListeners();\n    };\n\n\n    addListeners = () => {\n        document\n            .querySelector('.popup')\n            .addEventListener('click', this.handleEvent);\n\n        window.addEventListener('keydown', this.handleEvent);\n    };\n\n\n\n    handleEvent = event => {\n        const target = event.target;\n        const classes = target.classList;\n        if (\n            classes.contains('popup__close') ||\n            classes.contains('popup') ||\n            event.key === 'Escape'\n        ) {\n            this.closeModal();\n        }       \n    };\n\n    closeModal = () => {\n        this.parent.classList.remove('popup__active');\n        this.parent.removeChild(this.popup);\n        window.removeEventListener('keydown', this.handleEvent);\n    };\n}\n","import { getImages } from '../services/service';\nimport Card from './card';\nimport Popup from './popup';\n\nconst foodArr = ['pizza', 'burger', 'sushi'];\nconst foodModificator = ['roasted', 'fried', 'fresh', 'home made'];\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const food = document.querySelectorAll('.offer__food.wrapper');\n  const drinks = document.querySelector('.offer__drinks');\n  const offer = document.querySelector('.offer');\n\n  const counter = num2 => {\n    let num1 = -1;\n    return () => {\n      if (num1 === 3) {\n        num1 = -1;\n      }\n      return (num1 += num2);\n    };\n  };\n\n  const n = counter(1);\n\n  foodArr.forEach((item, i) => {\n    getImages(item).then(hits =>\n      hits.forEach(hit => {\n        const card = new Card(\n          hit.largeImageURL,\n          'offer__card',\n          `${item} ${foodModificator[n()]}`,\n        ).render();\n        food[i].insertAdjacentHTML('beforeend', card);\n      }),\n    );\n  });\n\n  const onOrderBtn = (event, name) => {\n    event.preventDefault();\n    new Popup(name).render();\n  };\n\n  offer.addEventListener('click', event => {\n    const order = document.querySelectorAll('.offer__card_descr_button');\n    let target = event.target;\n    let parent = target.parentElement;\n\n    document.querySelectorAll('.offer__card').forEach((card, i) => {\n      if (\n        card === parent &&\n        !target.classList.contains('offer__card-active') &&\n        target.nodeName === 'IMG'\n      ) {\n        target.classList.add('offer__card-active');\n        // order.forEach().addEventListener('click', () => onOrderBtn(event, parent.dataset));\n      } else if (target === order[i]) {\n        onOrderBtn(event, parent.dataset.product);\n      } else {\n        card.firstElementChild.classList.remove('offer__card-active');\n      }\n    });\n  });\n});\n"],"sourceRoot":""}