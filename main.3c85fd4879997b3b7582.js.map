{"version":3,"sources":["webpack:///./scripts/modules/tabs.js","webpack:///./scripts/services/service.js","webpack:///./scripts/modules/card.js","webpack:///./scripts/popup.js","webpack:///./scripts/modules/offer.js"],"names":["window","addEventListener","tabs","document","querySelectorAll","content","tabsParent","querySelector","event","activeElem","trgt","num","forEach","element","i","getActiveItem","target","classList","remove","add","addActiveClass","URI","fetch","getData","ok","Error","status","json","getImages","name","fetchData","then","res","hits","catch","error","Card","image","className","title","this","Popup","popup","createElement","innerHTML","parent","append","addListeners","onCloseModal","clazzes","key","contains","closeModal","removeChild","removeEventListener","foodArr","foodModificator","num2","num1","food","offer","n","item","hit","card","largeImageURL","render","insertAdjacentHTML","order","parentElement","nodeName","preventDefault","onOrderBtn","dataset","product","firstElementChild"],"mappings":"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","file":"main.3c85fd4879997b3b7582.js","sourcesContent":["window.addEventListener('DOMContentLoaded', () => {\n\n    const tabs = document.querySelectorAll('.tabs__header-item');\n    const content = document.querySelectorAll('.tabs__content');\n    const tabsParent = document.querySelector('.tabs__header-items');\n    \n\n    const removeActivClass = () => {\n\n        tabs.forEach(element => {\n            element.classList.remove('tabs__header-item-active')\n        });\n\n        content.forEach(element => {\n            element.classList.remove('tabs__content-active')\n        });\n    } \n\n    const getActiveItem = (trgt) => {\n        let num;\n        tabs.forEach((element, i) => {\n            if (element === trgt) {\n                num = i;\n                return;\n            }\n        })\n        return num;\n    }\n\n    const addActiveClass = (activeElem = 0) => {\n\n        tabs.forEach((element, i) => {\n\n            if (i === activeElem) {\n                \n                element.classList.add('tabs__header-item-active')\n            }\n        });\n\n        content.forEach((element, i) => {\n\n            if (i === activeElem) {\n                \n                element.classList.add('tabs__content-active')\n            }\n        });\n\n    }\n    \n\n    tabsParent.addEventListener('click', (event) => {\n\n        let trgt = event.target;\n        let activeElem = getActiveItem(trgt);\n        removeActivClass();\n        addActiveClass(activeElem);\n    });\n\n\n})","import { APIKEY } from './apikey';\n\nexport let URI = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=4&key=${APIKEY}&q=`;\n\n\nasync function fetchData(URI) {\n  const getData = await fetch(URI);\n\n  if (!getData.ok) {\n    throw new Error(`Could not fetch. Status is - ${getData.status}.`);\n  }\n\n  return await getData.json();\n}\n\n\n\nexport const getImages = name => {\n\n  return fetchData(`${URI}${name}`)\n    .then(res => res.hits)\n    .catch(error => {\n      throw new Error(`Something went wrong because - ${error}`);\n    });\n\n};\n\n","export default class Card {\n\n    constructor(image, className, title) {\n        this.image = image;\n        this.className = className;\n        this.title = title;\n    }\n\n    render = () => {\n        return (\n            `<div class=\"${this.className}\">\n                <img src=\"${this.image}\" class=\"offer__card_img\" alt=\"beautiful image\">\n                <div class=\"offer__card_descr\" data-product=\"${this.title}\">\n                    <h3>${this.title}</h3>\n                    <div class=\"offer__card_text\">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam nihil reprehenderit aspernatur minima unde hic facere. Unde nulla deleniti placeat, aliquid dolorum voluptatum quo.</div>\n                    <button class=\"offer__card_descr_button\" type=\"submit\">Order</button>\n                </div>\n            </div>`\n        )\n    }\n}","export default class Popup {\n  constructor(name) {\n    this.name = name;\n    this.parent = document.querySelector('body');\n    this.popup = null;\n  }\n\n  render = () => {\n    this.popup = document.createElement('div');\n    this.popup.classList.add('popup');\n    this.popup.innerHTML = `<div class=\"popup__wrapper\">\n                                <div class=\"popup__close\">&times;</div>\n                                <h3 class=\"popup__title\">Your order</h3>\n                                <ul class=\"popup__list\">\n                                    <li class=\"popup__item\">\n                                        <span class=\"popup__item_name\">${this.name}</span>\n                                        <div class=\"popup__count\">\n                                            <button type=\"button\" id=\"decr\" class=\"popup__item_btn popup__item_btn-count\">-</button>\n                                            <span class=\"popup__item_value\">0</span>\n                                            <button type=\"button\" id=\"incr\" class=\"popup__item_btn popup__item_btn-count\">+</button>\n                                            <button type=\"button\" id=\"remove\" class=\"popup__item_btn\">Remove</button>\n                                        <div>\n                                    </li>\n                                </ul>\n                            </div>`;\n    \n    this.parent.append(this.popup);\n    this.parent.classList.add('popup__active');\n    this.addListeners();\n  };\n\n  addListeners = () => {\n    document.querySelector('.popup')\n    .addEventListener('click', this.onCloseModal);\n\n    window.addEventListener('keydown', this.onCloseModal);\n  }\n\n  onCloseModal = (event) => {\n      const clazzes = event.target.classList;\n      const key = event.key;\n      if(clazzes.contains('popup__close') || clazzes.contains('popup') || key === 'Escape') {\n        this.closeModal();\n      }\n  }\n\n    closeModal= () => {\n        this.parent.classList.remove('popup__active');\n        this.parent.removeChild(this.popup);\n        window.removeEventListener('keydown', this.onCloseModal);\n        \n    }\n}\n","\nimport {getImages} from '../services/service';\nimport Card from './card';\nimport Popup from '../popup';\n\nconst foodArr = ['pizza', 'burger', 'sushi'];\nconst foodModificator = ['roasted', 'fried', 'fresh', 'home made'];\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const food = document.querySelectorAll('.offer__food.wrapper');\n    const drinks = document.querySelector('.offer__drinks');\n    const offer = document.querySelector('.offer');\n    \n\n\n    const counter = (num2) => {\n        let num1 = -1;\n        return () => {\n            if(num1 === 3) {num1 = -1}\n            return num1 += num2\n        };\n    }\n\n    const n = counter(1);\n\n    \n\n    foodArr.forEach((item, i) => {\n        getImages(item).then(hits => hits.forEach(hit => {\n        const card = new Card(hit.largeImageURL, 'offer__card', `${item} ${foodModificator[n()]}`).render();\n            food[i].insertAdjacentHTML('beforeend', card);\n        }))\n    })\n\n    const onOrderBtn = (event, name) => {\n        event.preventDefault();\n        new Popup(name).render();\n    }\n\n    offer.addEventListener('click', (event) => {\n        const order = document.querySelectorAll('.offer__card_descr_button');\n        let target = event.target;\n        let parent = target.parentElement;\n\n        document.querySelectorAll('.offer__card').forEach((card, i) => {\n\n            if(card === parent && !target.classList.contains('offer__card-active') && target.nodeName === 'IMG') {\n                target.classList.add('offer__card-active');\n                // order.forEach().addEventListener('click', () => onOrderBtn(event, parent.dataset));\n            } else if (target === order[i]) {\n                onOrderBtn(event, parent.dataset.product);\n            } else {\n                card.firstElementChild.classList.remove('offer__card-active');\n            }\n\n \n        })\n    })\n})\n"],"sourceRoot":""}